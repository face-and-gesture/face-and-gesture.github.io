{
    {% if site.conference.live and site.conference.live.streaming.enable -%}
    "days": [
        {%- for d in site.data.program.days %}
        {
            {%- include partials/get_day_hash.html %}
            "name": "{{ day_name }}",
            "hash": "{{ day_hash }}",
            "date": "{{ d.date }}"
        }{%- unless forloop.last -%},{%- endunless %}
        {%- endfor %}
    ],

    "rooms": {
    {%- assign first_room = true -%}
    {%- for room in site.rooms %}
        {%- if room.live -%}
            {%- if room.live.absolute_url -%}
                {%- assign room_live_href = room.live.absolute_url -%}
            {%- elsif room.live.relative_url -%}
                {%- assign room_live_href = room.live.relative_url | prepend: site.conference.baseurl -%}
            {%- else -%}
                {%- continue -%}
            {%- endif -%}

            {%- unless first_room -%}
                ,
            {%- else -%}
                {%- assign first_room = false -%}
            {%- endunless %}
        "{{ room.name }}": {
            "id": {{ forloop.index }},
            "name": "{{ room.name }}",
            "href": "{{ room_live_href }}"
        }
        {%- endif -%}
    {%- endfor %}
    },

    "speakers": {
    {%- for speaker in site.speakers %}
        "{{ speaker.name }}" : {
        {%- if site.conference.speakers.show_firstname %}
            "name": "{{ speaker.first_name | append: ' ' | append: speaker.last_name }}",
        {%- else %}
            "name": "{{ speaker.first_name | slice: 0 | append : '. ' | append: speaker.last_name }}",
        {%- endif -%}
        {%- if speaker.hide %}
            "href": ""
        {%- else %}
            "href": "{{ speaker.url | prepend: site.baseurl }}"
        {%- endif %}
        }{%- unless forloop.last -%},{%- endunless %}
    {%- endfor %}
    },

    "presentations": {
    {%- assign first_room = true -%}
    {%- for room in site.rooms -%}
        {%- assign first_presentation = true -%}
        {%- for d in site.data.program.days -%}
            {%- for r in d.rooms -%}
                {%- if room.name == r.name and room.live %}

                    {%- if first_presentation -%}
                        {%- unless first_room -%}
                            ,
                        {%- else -%}
                            {%- assign first_room = false -%}
                        {%- endunless %}
        "{{ room.name | replace: '"', '\"' }}": [
                        {%- assign first_presentation = false %}
                    {%- else -%}
                        ,
                    {%- endif -%}

                    {%- for t in r.presentations %}
                        {%- assign presentation = site.presentations | where: 'name', t.name | first %}
            {
                "name": "{{ presentation.name | replace: '"', '\"' }}",

                        {%- unless presentation.hide %}
                "href": "{{ presentation.url | prepend: site.baseurl }}",
                        {%- else %}
                "href": "",
                        {%- endunless -%}

                        {%- include partials/get_main_category.html %}
                "color": "{{ main_cat_color }}",
                "speakers": [
                        {%- for speaker_name in presentation.speakers %}
                    "{{ speaker_name}}"{%- unless forloop.last -%},{%- endunless -%}
                        {%- endfor %}
                ],

                        {%- include partials/get_presentation_timestamp.html %}
                "start": {{ timestamp_start }},
                "end": {{ timestamp_end }}

                        {%- if presentation.live.links -%},
                "live_links": [
                            {%- for link in presentation.live.links %}
                    {
                        "name": "{{ link.name | replace: '"', '\"' }}",
                        "href": "{{ link.absolute_url | replace: '"', '%22' }}"
                                {%- if link.icon -%},
                        "icon": "{{ link.icon | replace: '"', '\"' }}"
                                {%- endif %}
                                {%- if link.disabled -%},
                        "disabled": true
                                {%- endif %}
                    }{%- unless forloop.last -%},{%- endunless -%}
                            {%- endfor %}
                ]
                        {%- endif %}
            }{%- unless forloop.last -%},{%- endunless -%}
                    {%- endfor -%}
                {%- endif -%}
            {%- endfor -%}
        {%- endfor -%}

        {%- unless first_presentation %}
        ]
        {%- endunless -%}
    {%- endfor %}
    }

    {%- endif %}
}
